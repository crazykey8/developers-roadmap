### Что такое DOM, BOM и `window`?

- **DOM (Document Object Model)** — это иерархическая структура документа, которая представляет его в виде дерева объектов. DOM позволяет JavaScript взаимодействовать с HTML и XML документами: изменять структуру, стили и содержание страницы.

- **BOM (Browser Object Model)** — это модель, представляющая компоненты браузера, такие как `window`, `navigator`, `location`, и `history`. BOM предоставляет интерфейс для работы с окружающей средой, в которой загружена веб-страница.

- **`window`** — это глобальный объект, который представляет окно браузера. Он является корневым объектом для BOM и предоставляет доступ к DOM через свойство `window.document`.

### Как происходит построение DOM дерева?

1. **Парсинг HTML**: Браузер загружает HTML-документ и начинает его разбирать сверху вниз.
2. **Создание элементов**: Каждый элемент, обнаруженный в HTML-документе, превращается в объект узла (node) и добавляется в DOM дерево.
3. **Вложенность**: Вложенные теги образуют структуру дерева, где теги внутри других тегов становятся дочерними элементами.
4. **Обновление DOM**: Когда документ полностью разобран, создается конечное DOM дерево, и браузер начинает его рендеринг.

### Что такое `document` и в чем его отличия от `window`?

- **`window`** — это глобальный объект, представляющий окно браузера. Он включает в себя все, что связано с браузером, включая BOM, таймеры и события.
  
- **`document`** — это свойство объекта `window`, которое представляет сам HTML-документ. `document` используется для взаимодействия с содержимым страницы.

**Когда использовать:**
- **`document`**: для доступа и управления содержимым страницы (например, изменение текста, добавление элементов).
- **`window`**: для работы с функциями браузера (например, управление размерами окна, обработка событий на уровне окна).

### Как происходит навигация по DOM-элементам?

#### Объекты `node` и `element`

- **`Node`**: представляет любой узел в DOM дереве, включая элементы, текст, комментарии и т. д.
- **`Element`**: это подтип `Node`, представляющий конкретные HTML-элементы, такие как `<div>`, `<a>`, и т. д.

**Сходства**: `Element` наследует от `Node`, поэтому имеет все его свойства и методы.
**Различия**: `Element` предоставляет дополнительные свойства и методы, специфичные для HTML-элементов.

#### Что такое:

- **`previousSibling`/`nextSibling`**: указывают на предыдущий и следующий узел, независимо от типа (текст, элемент и т. д.).
  
- **`children`**: коллекция дочерних элементов (только `Element`, исключая текстовые узлы и комментарии).

- **`childNodes`**: коллекция всех дочерних узлов, включая текстовые узлы, элементы и комментарии.

- **`firstChild`/`lastChild`**: первый и последний дочерний узел, включая текстовые узлы и элементы.

- **`firstElementChild`/`lastElementChild`**: первый и последний дочерний элемент, исключая текстовые узлы и комментарии.

#### Методы навигации по DOM:

- **`getElementById(id)`**: возвращает элемент с заданным идентификатором.
  
- **`getElementsByClassName(className)`**: возвращает коллекцию всех элементов с заданным классом.

- **`getElementsByTagName(tagName)`**: возвращает коллекцию всех элементов с заданным тегом.

- **`getElementsByName(name)`**: возвращает коллекцию элементов с указанным значением атрибута `name`.

- **`querySelector(selector)`**: возвращает первый элемент, соответствующий CSS-селектору.

- **`querySelectorAll(selector)`**: возвращает коллекцию всех элементов, соответствующих CSS-селектору.

- **`closest(selector)`**: ищет ближайший родительский элемент, соответствующий заданному селектору.

#### Навигация внутри `HTMLTable​Element` и `HTMLFormElement`:

- **`HTMLTableElement`**: позволяет доступ к строкам (`rows`), ячейкам (`cells`), заголовкам (`tHead`, `tFoot`, `tBodies`).
- **`HTMLFormElement`**: позволяет доступ к элементам формы (`elements`), отправке формы (`submit()`), сбросу формы (`reset()`).

### Добавление/удаление/клонирование/вставка элементов и узлов

**Способы:**

- **`appendChild(node)`**: добавляет узел как последний дочерний элемент.
- **`insertBefore(newNode, referenceNode)`**: вставляет `newNode` перед `referenceNode`.
- **`removeChild(node)`**: удаляет дочерний узел.
- **`cloneNode(deep)`**: клонирует узел, если `deep=true`, то с его содержимым.
- **`replaceChild(newNode, oldNode)`**: заменяет `oldNode` на `newNode`.

### Атрибуты и свойства

#### Взаимодействие с атрибутами HTML элемента через JS

- **`getAttribute(attr)`**: возвращает значение атрибута.
- **`setAttribute(attr, value)`**: устанавливает значение атрибута.
- **`removeAttribute(attr)`**: удаляет атрибут.

#### Что от чего зависит: свойство от атрибута или атрибут от свойства?

Свойства зависят от атрибутов. Атрибуты задаются в HTML и инициализируют свойства объектов DOM.

#### Могут ли не совпадать значения в свойстве объекта и в атрибуте одного и того же HTML элемента?

Да, значения могут не совпадать, если, например, свойство было изменено программно после загрузки страницы.

#### Что выведет данный код:

```html
<div id="topId" href="http://fsd.com" foo="bar"></div>

<script>
  console.log(document.getElementById('topId').foo); // undefined
  console.log(document.getElementById('topId').href); // undefined
</script>
```

Код выведет `undefined` дважды, так как `foo` и `href` не являются свойствами элемента `div`.

### CSS стили в DOM

#### Зачем нужно свойство `style` у HTML-элемента? Как им пользоваться?

Свойство `style` позволяет изменять стили элемента непосредственно через JavaScript.

Пример:

```javascript
element.style.color = 'red';
```

#### Способы задать стили элементу через JS:

- **Через `style` объект**: `element.style.backgroundColor = 'blue';`
- **Через `setAttribute`**: `element.setAttribute('style', 'color: red;');`
- **Через добавление/удаление классов**: `element.classList.add('myClass');`

#### Для чего используется `window.getComputedStyle`?

`window.getComputedStyle` возвращает объект со всеми CSS-стилями, примененными к элементу после всех вычислений и каскадирования.

Пример:

```javascript
const styles = window.getComputedStyle(element);
console.log(styles.color);
```

### Что такое `DocumentFragment`?

`DocumentFragment` — это легковесный объект, представляющий собой минимальный документ. Он используется для группировки узлов и вставки их в DOM за одну операцию, что улучшает производительность при работе с большим количеством элементов.